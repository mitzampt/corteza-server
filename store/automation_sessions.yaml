import:
  - github.com/cortezaproject/corteza-server/automation/types

types:
  type: types.Session

fields:
  - { field: ID }
  - { field: WorkflowID }
  - { field: EventType }
  - { field: ResourceType }
  - { field: Status,     type: int }
  - { field: WallTime,   type: "time.Duration" }
  - { field: UserTime,   type: "time.Duration" }
  - { field: Input,      type: "types.Variables" }
  - { field: Output,     type: "types.Variables" }
  - { field: Trace,      type: "types.SessionTraceStepSet" }
  - { field: CreatedBy }
  - { field: CreatedAt }
  - { field: PurgeAt }
  - { field: CompletedAt }
  - { field: SuspendedAt }
  - { field: Error }

rdbms:
  alias: atms
  table: automation_sessions
  customFilterConverter: true

lookups:
  - fields: [ ID ]
    description: |-
      searches for session by ID

      It returns session even if deleted
